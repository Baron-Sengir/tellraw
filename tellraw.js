var achievements=[{"achievement":"stat.leaveGame"},{"achievement":"stat.playOneMinute"},{"achievement":"stat.walkOneCm"},{"achievement":"stat.swimOneCm"},{"achievement":"stat.fallOneCm"},{"achievement":"stat.climbOneCm"},{"achievement":"stat.flyOneCm"},{"achievement":"stat.diveOneCm"},{"achievement":"stat.minecartOneCm"},{"achievement":"stat.boatOneCm"},{"achievement":"stat.pigOneCm"},{"achievement":"stat.horseOneCm"},{"achievement":"stat.jump"},{"achievement":"stat.drop"},{"achievement":"stat.damageDealt"},{"achievement":"stat.damageTaken"},{"achievement":"stat.deaths"},{"achievement":"stat.mobKills"},{"achievement":"stat.animalsBred"},{"achievement":"stat.playerKills"},{"achievement":"stat.fishCaught"},{"achievement":"stat.junkFished"},{"achievement":"stat.treasureFished"},{"achievement":"stat.mineBlock.1"},{"achievement":"stat.mineBlock.3"},{"achievement":"stat.mineBlock.4"},{"achievement":"stat.mineBlock.5"},{"achievement":"stat.mineBlock.6"},{"achievement":"stat.mineBlock.12"},{"achievement":"stat.mineBlock.13"},{"achievement":"stat.mineBlock.14"},{"achievement":"stat.mineBlock.15"},{"achievement":"stat.mineBlock.16"},{"achievement":"stat.mineBlock.17"},{"achievement":"stat.mineBlock.18"},{"achievement":"stat.mineBlock.19"},{"achievement":"stat.mineBlock.20"},{"achievement":"stat.mineBlock.21"},{"achievement":"stat.mineBlock.22"},{"achievement":"stat.mineBlock.23"},{"achievement":"stat.mineBlock.24"},{"achievement":"stat.mineBlock.25"},{"achievement":"stat.mineBlock.27"},{"achievement":"stat.mineBlock.28"},{"achievement":"stat.mineBlock.29"},{"achievement":"stat.mineBlock.30"},{"achievement":"stat.mineBlock.31"},{"achievement":"stat.mineBlock.32"},{"achievement":"stat.mineBlock.33"},{"achievement":"stat.mineBlock.35"},{"achievement":"stat.mineBlock.37"},{"achievement":"stat.mineBlock.38"},{"achievement":"stat.mineBlock.39"},{"achievement":"stat.mineBlock.41"},{"achievement":"stat.mineBlock.42"},{"achievement":"stat.mineBlock.44"},{"achievement":"stat.mineBlock.45"},{"achievement":"stat.mineBlock.46"},{"achievement":"stat.mineBlock.47"},{"achievement":"stat.mineBlock.48"},{"achievement":"stat.mineBlock.49"},{"achievement":"stat.mineBlock.50"},{"achievement":"stat.mineBlock.53"},{"achievement":"stat.mineBlock.54"},{"achievement":"stat.mineBlock.56"},{"achievement":"stat.mineBlock.57"},{"achievement":"stat.mineBlock.58"},{"achievement":"stat.mineBlock.61"},{"achievement":"stat.mineBlock.65"},{"achievement":"stat.mineBlock.66"},{"achievement":"stat.mineBlock.67"},{"achievement":"stat.mineBlock.69"},{"achievement":"stat.mineBlock.70"},{"achievement":"stat.mineBlock.72"},{"achievement":"stat.mineBlock.73"},{"achievement":"stat.mineBlock.76"},{"achievement":"stat.mineBlock.77"},{"achievement":"stat.mineBlock.78"},{"achievement":"stat.mineBlock.79"},{"achievement":"stat.mineBlock.80"},{"achievement":"stat.mineBlock.81"},{"achievement":"stat.mineBlock.82"},{"achievement":"stat.mineBlock.84"},{"achievement":"stat.mineBlock.85"},{"achievement":"stat.mineBlock.86"},{"achievement":"stat.mineBlock.87"},{"achievement":"stat.mineBlock.88"},{"achievement":"stat.mineBlock.89"},{"achievement":"stat.mineBlock.90"},{"achievement":"stat.mineBlock.95"},{"achievement":"stat.mineBlock.97"},{"achievement":"stat.mineBlock.98"},{"achievement":"stat.mineBlock.99"},{"achievement":"stat.mineBlock.100"},{"achievement":"stat.mineBlock.101"},{"achievement":"stat.mineBlock.102"},{"achievement":"stat.mineBlock.103"},{"achievement":"stat.mineBlock.106"},{"achievement":"stat.mineBlock.107"},{"achievement":"stat.mineBlock.108"},{"achievement":"stat.mineBlock.109"},{"achievement":"stat.mineBlock.110"},{"achievement":"stat.mineBlock.111"},{"achievement":"stat.mineBlock.112"},{"achievement":"stat.mineBlock.113"},{"achievement":"stat.mineBlock.114"},{"achievement":"stat.mineBlock.116"},{"achievement":"stat.mineBlock.119"},{"achievement":"stat.mineBlock.120"},{"achievement":"stat.mineBlock.121"},{"achievement":"stat.mineBlock.122"},{"achievement":"stat.mineBlock.123"},{"achievement":"stat.mineBlock.126"},{"achievement":"stat.mineBlock.127"},{"achievement":"stat.mineBlock.128"},{"achievement":"stat.mineBlock.129"},{"achievement":"stat.mineBlock.130"},{"achievement":"stat.mineBlock.131"},{"achievement":"stat.mineBlock.133"},{"achievement":"stat.mineBlock.134"},{"achievement":"stat.mineBlock.135"},{"achievement":"stat.mineBlock.136"},{"achievement":"stat.mineBlock.137"},{"achievement":"stat.mineBlock.138"},{"achievement":"stat.mineBlock.139"},{"achievement":"stat.mineBlock.143"},{"achievement":"stat.mineBlock.145"},{"achievement":"stat.mineBlock.146"},{"achievement":"stat.mineBlock.147"},{"achievement":"stat.mineBlock.148"},{"achievement":"stat.mineBlock.151"},{"achievement":"stat.mineBlock.152"},{"achievement":"stat.mineBlock.153"},{"achievement":"stat.mineBlock.154"},{"achievement":"stat.mineBlock.155"},{"achievement":"stat.mineBlock.156"},{"achievement":"stat.mineBlock.157"},{"achievement":"stat.mineBlock.158"},{"achievement":"stat.mineBlock.159"},{"achievement":"stat.mineBlock.160"},{"achievement":"stat.mineBlock.161"},{"achievement":"stat.mineBlock.162"},{"achievement":"stat.mineBlock.163"},{"achievement":"stat.mineBlock.164"},{"achievement":"stat.mineBlock.170"},{"achievement":"stat.mineBlock.171"},{"achievement":"stat.mineBlock.172"},{"achievement":"stat.mineBlock.173"},{"achievement":"stat.mineBlock.174"},{"achievement":"stat.mineBlock.175"},{"achievement":"stat.useItem.1"},{"achievement":"stat.useItem.3"},{"achievement":"stat.useItem.4"},{"achievement":"stat.useItem.5"},{"achievement":"stat.useItem.6"},{"achievement":"stat.useItem.7"},{"achievement":"stat.useItem.8"},{"achievement":"stat.useItem.10"},{"achievement":"stat.useItem.12"},{"achievement":"stat.useItem.13"},{"achievement":"stat.useItem.14"},{"achievement":"stat.useItem.15"},{"achievement":"stat.useItem.16"},{"achievement":"stat.useItem.17"},{"achievement":"stat.useItem.18"},{"achievement":"stat.useItem.19"},{"achievement":"stat.useItem.20"},{"achievement":"stat.useItem.21"},{"achievement":"stat.useItem.22"},{"achievement":"stat.useItem.23"},{"achievement":"stat.useItem.24"},{"achievement":"stat.useItem.25"},{"achievement":"stat.useItem.27"},{"achievement":"stat.useItem.28"},{"achievement":"stat.useItem.29"},{"achievement":"stat.useItem.30"},{"achievement":"stat.useItem.31"},{"achievement":"stat.useItem.32"},{"achievement":"stat.useItem.33"},{"achievement":"stat.useItem.35"},{"achievement":"stat.useItem.37"},{"achievement":"stat.useItem.38"},{"achievement":"stat.useItem.39"},{"achievement":"stat.useItem.41"},{"achievement":"stat.useItem.42"},{"achievement":"stat.useItem.44"},{"achievement":"stat.useItem.45"},{"achievement":"stat.useItem.46"},{"achievement":"stat.useItem.47"},{"achievement":"stat.useItem.48"},{"achievement":"stat.useItem.49"},{"achievement":"stat.useItem.50"},{"achievement":"stat.useItem.51"},{"achievement":"stat.useItem.52"},{"achievement":"stat.useItem.53"},{"achievement":"stat.useItem.54"},{"achievement":"stat.useItem.56"},{"achievement":"stat.useItem.57"},{"achievement":"stat.useItem.58"},{"achievement":"stat.useItem.61"},{"achievement":"stat.useItem.65"},{"achievement":"stat.useItem.66"},{"achievement":"stat.useItem.67"},{"achievement":"stat.useItem.69"},{"achievement":"stat.useItem.70"},{"achievement":"stat.useItem.72"},{"achievement":"stat.useItem.73"},{"achievement":"stat.useItem.76"},{"achievement":"stat.useItem.77"},{"achievement":"stat.useItem.78"},{"achievement":"stat.useItem.79"},{"achievement":"stat.useItem.80"},{"achievement":"stat.useItem.81"},{"achievement":"stat.useItem.82"},{"achievement":"stat.useItem.84"},{"achievement":"stat.useItem.85"},{"achievement":"stat.useItem.86"},{"achievement":"stat.useItem.87"},{"achievement":"stat.useItem.88"},{"achievement":"stat.useItem.89"},{"achievement":"stat.useItem.90"},{"achievement":"stat.useItem.95"},{"achievement":"stat.useItem.96"},{"achievement":"stat.useItem.97"},{"achievement":"stat.useItem.98"},{"achievement":"stat.useItem.99"},{"achievement":"stat.useItem.100"},{"achievement":"stat.useItem.101"},{"achievement":"stat.useItem.102"},{"achievement":"stat.useItem.103"},{"achievement":"stat.useItem.106"},{"achievement":"stat.useItem.107"},{"achievement":"stat.useItem.108"},{"achievement":"stat.useItem.109"},{"achievement":"stat.useItem.110"},{"achievement":"stat.useItem.111"},{"achievement":"stat.useItem.112"},{"achievement":"stat.useItem.113"},{"achievement":"stat.useItem.114"},{"achievement":"stat.useItem.116"},{"achievement":"stat.useItem.119"},{"achievement":"stat.useItem.120"},{"achievement":"stat.useItem.121"},{"achievement":"stat.useItem.122"},{"achievement":"stat.useItem.123"},{"achievement":"stat.useItem.126"},{"achievement":"stat.useItem.127"},{"achievement":"stat.useItem.128"},{"achievement":"stat.useItem.129"},{"achievement":"stat.useItem.130"},{"achievement":"stat.useItem.131"},{"achievement":"stat.useItem.133"},{"achievement":"stat.useItem.134"},{"achievement":"stat.useItem.135"},{"achievement":"stat.useItem.136"},{"achievement":"stat.useItem.137"},{"achievement":"stat.useItem.138"},{"achievement":"stat.useItem.139"},{"achievement":"stat.useItem.141"},{"achievement":"stat.useItem.142"},{"achievement":"stat.useItem.143"},{"achievement":"stat.useItem.145"},{"achievement":"stat.useItem.146"},{"achievement":"stat.useItem.147"},{"achievement":"stat.useItem.148"},{"achievement":"stat.useItem.151"},{"achievement":"stat.useItem.152"},{"achievement":"stat.useItem.153"},{"achievement":"stat.useItem.154"},{"achievement":"stat.useItem.155"},{"achievement":"stat.useItem.156"},{"achievement":"stat.useItem.157"},{"achievement":"stat.useItem.158"},{"achievement":"stat.useItem.159"},{"achievement":"stat.useItem.160"},{"achievement":"stat.useItem.161"},{"achievement":"stat.useItem.162"},{"achievement":"stat.useItem.163"},{"achievement":"stat.useItem.164"},{"achievement":"stat.useItem.170"},{"achievement":"stat.useItem.171"},{"achievement":"stat.useItem.172"},{"achievement":"stat.useItem.173"},{"achievement":"stat.useItem.174"},{"achievement":"stat.useItem.175"},{"achievement":"stat.useItem.256"},{"achievement":"stat.useItem.257"},{"achievement":"stat.useItem.258"},{"achievement":"stat.useItem.259"},{"achievement":"stat.useItem.260"},{"achievement":"stat.useItem.261"},{"achievement":"stat.useItem.262"},{"achievement":"stat.useItem.263"},{"achievement":"stat.useItem.264"},{"achievement":"stat.useItem.265"},{"achievement":"stat.useItem.266"},{"achievement":"stat.useItem.267"},{"achievement":"stat.useItem.268"},{"achievement":"stat.useItem.269"},{"achievement":"stat.useItem.270"},{"achievement":"stat.useItem.271"},{"achievement":"stat.useItem.272"},{"achievement":"stat.useItem.273"},{"achievement":"stat.useItem.274"},{"achievement":"stat.useItem.275"},{"achievement":"stat.useItem.276"},{"achievement":"stat.useItem.277"},{"achievement":"stat.useItem.278"},{"achievement":"stat.useItem.279"},{"achievement":"stat.useItem.280"},{"achievement":"stat.useItem.281"},{"achievement":"stat.useItem.282"},{"achievement":"stat.useItem.283"},{"achievement":"stat.useItem.284"},{"achievement":"stat.useItem.285"},{"achievement":"stat.useItem.286"},{"achievement":"stat.useItem.287"},{"achievement":"stat.useItem.288"},{"achievement":"stat.useItem.289"},{"achievement":"stat.useItem.290"},{"achievement":"stat.useItem.291"},{"achievement":"stat.useItem.292"},{"achievement":"stat.useItem.293"},{"achievement":"stat.useItem.294"},{"achievement":"stat.useItem.295"},{"achievement":"stat.useItem.296"},{"achievement":"stat.useItem.297"},{"achievement":"stat.useItem.298"},{"achievement":"stat.useItem.299"},{"achievement":"stat.useItem.300"},{"achievement":"stat.useItem.301"},{"achievement":"stat.useItem.302"},{"achievement":"stat.useItem.303"},{"achievement":"stat.useItem.304"},{"achievement":"stat.useItem.305"},{"achievement":"stat.useItem.306"},{"achievement":"stat.useItem.307"},{"achievement":"stat.useItem.308"},{"achievement":"stat.useItem.309"},{"achievement":"stat.useItem.310"},{"achievement":"stat.useItem.311"},{"achievement":"stat.useItem.312"},{"achievement":"stat.useItem.313"},{"achievement":"stat.useItem.314"},{"achievement":"stat.useItem.315"},{"achievement":"stat.useItem.316"},{"achievement":"stat.useItem.317"},{"achievement":"stat.useItem.318"},{"achievement":"stat.useItem.319"},{"achievement":"stat.useItem.320"},{"achievement":"stat.useItem.321"},{"achievement":"stat.useItem.322"},{"achievement":"stat.useItem.323"},{"achievement":"stat.useItem.324"},{"achievement":"stat.useItem.325"},{"achievement":"stat.useItem.326"},{"achievement":"stat.useItem.327"},{"achievement":"stat.useItem.328"},{"achievement":"stat.useItem.329"},{"achievement":"stat.useItem.330"},{"achievement":"stat.useItem.331"},{"achievement":"stat.useItem.332"},{"achievement":"stat.useItem.333"},{"achievement":"stat.useItem.334"},{"achievement":"stat.useItem.335"},{"achievement":"stat.useItem.336"},{"achievement":"stat.useItem.337"},{"achievement":"stat.useItem.338"},{"achievement":"stat.useItem.339"},{"achievement":"stat.useItem.340"},{"achievement":"stat.useItem.341"},{"achievement":"stat.useItem.342"},{"achievement":"stat.useItem.343"},{"achievement":"stat.useItem.344"},{"achievement":"stat.useItem.345"},{"achievement":"stat.useItem.346"},{"achievement":"stat.useItem.347"},{"achievement":"stat.useItem.348"},{"achievement":"stat.useItem.349"},{"achievement":"stat.useItem.350"},{"achievement":"stat.useItem.351"},{"achievement":"stat.useItem.352"},{"achievement":"stat.useItem.353"},{"achievement":"stat.useItem.354"},{"achievement":"stat.useItem.355"},{"achievement":"stat.useItem.356"},{"achievement":"stat.useItem.357"},{"achievement":"stat.useItem.358"},{"achievement":"stat.useItem.359"},{"achievement":"stat.useItem.360"},{"achievement":"stat.useItem.361"},{"achievement":"stat.useItem.362"},{"achievement":"stat.useItem.363"},{"achievement":"stat.useItem.364"},{"achievement":"stat.useItem.365"},{"achievement":"stat.useItem.366"},{"achievement":"stat.useItem.367"},{"achievement":"stat.useItem.368"},{"achievement":"stat.useItem.369"},{"achievement":"stat.useItem.370"},{"achievement":"stat.useItem.371"},{"achievement":"stat.useItem.372"},{"achievement":"stat.useItem.373"},{"achievement":"stat.useItem.374"},{"achievement":"stat.useItem.375"},{"achievement":"stat.useItem.376"},{"achievement":"stat.useItem.377"},{"achievement":"stat.useItem.378"},{"achievement":"stat.useItem.379"},{"achievement":"stat.useItem.380"},{"achievement":"stat.useItem.381"},{"achievement":"stat.useItem.382"},{"achievement":"stat.killEntity.Creeper"},{"achievement":"stat.entityKilledBy.Creeper"},{"achievement":"stat.killEntity.Skeleton"},{"achievement":"stat.entityKilledBy.Skeleton"},{"achievement":"stat.killEntity.Spider"},{"achievement":"stat.entityKilledBy.Spider"},{"achievement":"stat.killEntity.Zombie"},{"achievement":"stat.entityKilledBy.Zombie"},{"achievement":"stat.killEntity.Slime"},{"achievement":"stat.entityKilledBy.Slime"},{"achievement":"stat.killEntity.Ghast"},{"achievement":"stat.entityKilledBy.Ghast"},{"achievement":"stat.killEntity.PigZombie"},{"achievement":"stat.entityKilledBy.PigZombie"},{"achievement":"stat.killEntity.Enderman"},{"achievement":"stat.entityKilledBy.Enderman"},{"achievement":"stat.killEntity.CaveSpider"},{"achievement":"stat.entityKilledBy.CaveSpider"},{"achievement":"stat.killEntity.Silverfish"},{"achievement":"stat.entityKilledBy.Silverfish"},{"achievement":"stat.killEntity.Blaze"},{"achievement":"stat.entityKilledBy.Blaze"},{"achievement":"stat.killEntity.LavaSlime"},{"achievement":"stat.entityKilledBy.LavaSlime"},{"achievement":"stat.killEntity.Bat"},{"achievement":"stat.entityKilledBy.Bat"},{"achievement":"stat.killEntity.Witch"},{"achievement":"stat.entityKilledBy.Witch"},{"achievement":"stat.killEntity.Pig"},{"achievement":"stat.entityKilledBy.Pig"},{"achievement":"stat.killEntity.Sheep"},{"achievement":"stat.entityKilledBy.Sheep"},{"achievement":"stat.killEntity.Cow"},{"achievement":"stat.entityKilledBy.Cow"},{"achievement":"stat.killEntity.Chicken"},{"achievement":"stat.entityKilledBy.Chicken"},{"achievement":"stat.killEntity.Squid"},{"achievement":"stat.entityKilledBy.Squid"},{"achievement":"stat.killEntity.Wolf"},{"achievement":"stat.entityKilledBy.Wolf"},{"achievement":"stat.killEntity.MushroomCow"},{"achievement":"stat.entityKilledBy.MushroomCow"},{"achievement":"stat.killEntity.Ozelot"},{"achievement":"stat.entityKilledBy.Ozelot"},{"achievement":"stat.killEntity.EntityHorse"},{"achievement":"stat.entityKilledBy.EntityHorse"},{"achievement":"stat.killEntity.Villager"},{"achievement":"stat.entityKilledBy.Villager"},{"achievement":"stat.useItem.383"},{"achievement":"stat.useItem.384"},{"achievement":"stat.useItem.385"},{"achievement":"stat.useItem.386"},{"achievement":"stat.useItem.387"},{"achievement":"stat.useItem.388"},{"achievement":"stat.useItem.389"},{"achievement":"stat.useItem.390"},{"achievement":"stat.useItem.391"},{"achievement":"stat.useItem.392"},{"achievement":"stat.useItem.393"},{"achievement":"stat.useItem.394"},{"achievement":"stat.useItem.395"},{"achievement":"stat.useItem.396"},{"achievement":"stat.useItem.397"},{"achievement":"stat.useItem.398"},{"achievement":"stat.useItem.399"},{"achievement":"stat.useItem.400"},{"achievement":"stat.useItem.401"},{"achievement":"stat.useItem.402"},{"achievement":"stat.useItem.403"},{"achievement":"stat.useItem.404"},{"achievement":"stat.useItem.405"},{"achievement":"stat.useItem.406"},{"achievement":"stat.useItem.407"},{"achievement":"stat.useItem.408"},{"achievement":"stat.useItem.417"},{"achievement":"stat.useItem.418"},{"achievement":"stat.useItem.419"},{"achievement":"stat.useItem.420"},{"achievement":"stat.useItem.421"},{"achievement":"stat.useItem.422"},{"achievement":"stat.useItem.2256"},{"achievement":"stat.useItem.2257"},{"achievement":"stat.useItem.2258"},{"achievement":"stat.useItem.2259"},{"achievement":"stat.useItem.2260"},{"achievement":"stat.useItem.2261"},{"achievement":"stat.useItem.2262"},{"achievement":"stat.useItem.2263"},{"achievement":"stat.useItem.2264"},{"achievement":"stat.useItem.2265"},{"achievement":"stat.useItem.2266"},{"achievement":"stat.useItem.2267"},{"achievement":"stat.breakItem.256"},{"achievement":"stat.breakItem.257"},{"achievement":"stat.breakItem.258"},{"achievement":"stat.breakItem.259"},{"achievement":"stat.breakItem.261"},{"achievement":"stat.breakItem.267"},{"achievement":"stat.breakItem.268"},{"achievement":"stat.breakItem.269"},{"achievement":"stat.breakItem.270"},{"achievement":"stat.breakItem.271"},{"achievement":"stat.breakItem.272"},{"achievement":"stat.breakItem.273"},{"achievement":"stat.breakItem.274"},{"achievement":"stat.breakItem.275"},{"achievement":"stat.breakItem.276"},{"achievement":"stat.breakItem.277"},{"achievement":"stat.breakItem.278"},{"achievement":"stat.breakItem.279"},{"achievement":"stat.breakItem.283"},{"achievement":"stat.breakItem.284"},{"achievement":"stat.breakItem.285"},{"achievement":"stat.breakItem.286"},{"achievement":"stat.breakItem.290"},{"achievement":"stat.breakItem.291"},{"achievement":"stat.breakItem.292"},{"achievement":"stat.breakItem.293"},{"achievement":"stat.breakItem.294"},{"achievement":"stat.breakItem.298"},{"achievement":"stat.breakItem.299"},{"achievement":"stat.breakItem.300"},{"achievement":"stat.breakItem.301"},{"achievement":"stat.breakItem.302"},{"achievement":"stat.breakItem.303"},{"achievement":"stat.breakItem.304"},{"achievement":"stat.breakItem.305"},{"achievement":"stat.breakItem.306"},{"achievement":"stat.breakItem.307"},{"achievement":"stat.breakItem.308"},{"achievement":"stat.breakItem.309"},{"achievement":"stat.breakItem.310"},{"achievement":"stat.breakItem.311"},{"achievement":"stat.breakItem.312"},{"achievement":"stat.breakItem.313"},{"achievement":"stat.breakItem.314"},{"achievement":"stat.breakItem.315"},{"achievement":"stat.breakItem.316"},{"achievement":"stat.breakItem.317"},{"achievement":"stat.breakItem.346"},{"achievement":"stat.breakItem.359"},{"achievement":"stat.breakItem.398"},{"achievement":"stat.craftItem.292"},{"achievement":"stat.craftItem.263"},{"achievement":"stat.craftItem.330"},{"achievement":"stat.craftItem.82"},{"achievement":"stat.craftItem.328"},{"achievement":"stat.craftItem.98"},{"achievement":"stat.craftItem.264"},{"achievement":"stat.craftItem.171"},{"achievement":"stat.craftItem.78"},{"achievement":"stat.craftItem.268"},{"achievement":"stat.craftItem.325"},{"achievement":"stat.craftItem.281"},{"achievement":"stat.craftItem.27"},{"achievement":"stat.craftItem.312"},{"achievement":"stat.craftItem.96"},{"achievement":"stat.craftItem.310"},{"achievement":"stat.craftItem.307"},{"achievement":"stat.craftItem.385"},{"achievement":"stat.craftItem.333"},{"achievement":"stat.craftItem.276"},{"achievement":"stat.craftItem.23"},{"achievement":"stat.craftItem.291"},{"achievement":"stat.craftItem.282"},{"achievement":"stat.craftItem.54"},{"achievement":"stat.craftItem.277"},{"achievement":"stat.craftItem.420"},{"achievement":"stat.craftItem.116"},{"achievement":"stat.craftItem.300"},{"achievement":"stat.craftItem.398"},{"achievement":"stat.craftItem.302"},{"achievement":"stat.craftItem.134"},{"achievement":"stat.craftItem.262"},{"achievement":"stat.craftItem.172"},{"achievement":"stat.craftItem.80"},{"achievement":"stat.craftItem.76"},{"achievement":"stat.craftItem.351"},{"achievement":"stat.craftItem.374"},{"achievement":"stat.craftItem.156"},{"achievement":"stat.craftItem.400"},{"achievement":"stat.craftItem.66"},{"achievement":"stat.craftItem.275"},{"achievement":"stat.craftItem.133"},{"achievement":"stat.craftItem.267"},{"achievement":"stat.craftItem.297"},{"achievement":"stat.craftItem.269"},{"achievement":"stat.craftItem.70"},{"achievement":"stat.craftItem.346"},{"achievement":"stat.craftItem.309"},{"achievement":"stat.craftItem.259"},{"achievement":"stat.craftItem.308"},{"achievement":"stat.craftItem.408"},{"achievement":"stat.craftItem.317"},{"achievement":"stat.craftItem.298"},{"achievement":"stat.craftItem.382"},{"achievement":"stat.craftItem.95"},{"achievement":"stat.craftItem.342"},{"achievement":"stat.craftItem.279"},{"achievement":"stat.craftItem.378"},{"achievement":"stat.craftItem.404"},{"achievement":"stat.craftItem.407"},{"achievement":"stat.craftItem.377"},{"achievement":"stat.craftItem.173"},{"achievement":"stat.craftItem.270"},{"achievement":"stat.craftItem.72"},{"achievement":"stat.craftItem.139"},{"achievement":"stat.craftItem.285"},{"achievement":"stat.craftItem.364"},{"achievement":"stat.craftItem.293"},{"achievement":"stat.craftItem.345"},{"achievement":"stat.craftItem.136"},{"achievement":"stat.craftItem.157"},{"achievement":"stat.craftItem.47"},{"achievement":"stat.craftItem.316"},{"achievement":"stat.craftItem.261"},{"achievement":"stat.craftItem.146"},{"achievement":"stat.craftItem.50"},{"achievement":"stat.craftItem.69"},{"achievement":"stat.craftItem.102"},{"achievement":"stat.craftItem.114"},{"achievement":"stat.craftItem.313"},{"achievement":"stat.craftItem.311"},{"achievement":"stat.craftItem.362"},{"achievement":"stat.craftItem.376"},{"achievement":"stat.craftItem.258"},{"achievement":"stat.craftItem.41"},{"achievement":"stat.craftItem.138"},{"achievement":"stat.craftItem.321"},{"achievement":"stat.craftItem.158"},{"achievement":"stat.craftItem.1"},{"achievement":"stat.craftItem.108"},{"achievement":"stat.craftItem.164"},{"achievement":"stat.craftItem.320"},{"achievement":"stat.craftItem.304"},{"achievement":"stat.craftItem.257"},{"achievement":"stat.craftItem.123"},{"achievement":"stat.craftItem.301"},{"achievement":"stat.craftItem.395"},{"achievement":"stat.craftItem.284"},{"achievement":"stat.craftItem.339"},{"achievement":"stat.craftItem.20"},{"achievement":"stat.craftItem.324"},{"achievement":"stat.craftItem.405"},{"achievement":"stat.craftItem.5"},{"achievement":"stat.craftItem.77"},{"achievement":"stat.craftItem.340"},{"achievement":"stat.craftItem.274"},{"achievement":"stat.craftItem.357"},{"achievement":"stat.craftItem.154"},{"achievement":"stat.craftItem.113"},{"achievement":"stat.craftItem.379"},{"achievement":"stat.craftItem.256"},{"achievement":"stat.craftItem.366"},{"achievement":"stat.craftItem.61"},{"achievement":"stat.craftItem.265"},{"achievement":"stat.craftItem.107"},{"achievement":"stat.craftItem.290"},{"achievement":"stat.craftItem.272"},{"achievement":"stat.craftItem.322"},{"achievement":"stat.craftItem.130"},{"achievement":"stat.craftItem.128"},{"achievement":"stat.craftItem.389"},{"achievement":"stat.craftItem.170"},{"achievement":"stat.craftItem.299"},{"achievement":"stat.craftItem.44"},{"achievement":"stat.craftItem.109"},{"achievement":"stat.craftItem.353"},{"achievement":"stat.craftItem.361"},{"achievement":"stat.craftItem.266"},{"achievement":"stat.craftItem.347"},{"achievement":"stat.craftItem.278"},{"achievement":"stat.craftItem.386"},{"achievement":"stat.craftItem.147"},{"achievement":"stat.craftItem.286"},{"achievement":"stat.craftItem.84"},{"achievement":"stat.craftItem.145"},{"achievement":"stat.craftItem.306"},{"achievement":"stat.craftItem.396"},{"achievement":"stat.craftItem.159"},{"achievement":"stat.craftItem.24"},{"achievement":"stat.craftItem.380"},{"achievement":"stat.craftItem.283"},{"achievement":"stat.craftItem.25"},{"achievement":"stat.craftItem.381"},{"achievement":"stat.craftItem.280"},{"achievement":"stat.craftItem.151"},{"achievement":"stat.craftItem.273"},{"achievement":"stat.craftItem.314"},{"achievement":"stat.craftItem.152"},{"achievement":"stat.craftItem.305"},{"achievement":"stat.craftItem.65"},{"achievement":"stat.craftItem.46"},{"achievement":"stat.craftItem.323"},{"achievement":"stat.craftItem.294"},{"achievement":"stat.craftItem.29"},{"achievement":"stat.craftItem.135"},{"achievement":"stat.craftItem.91"},{"achievement":"stat.craftItem.131"},{"achievement":"stat.craftItem.331"},{"achievement":"stat.craftItem.53"},{"achievement":"stat.craftItem.354"},{"achievement":"stat.craftItem.390"},{"achievement":"stat.craftItem.356"},{"achievement":"stat.craftItem.143"},{"achievement":"stat.craftItem.271"},{"achievement":"stat.craftItem.22"},{"achievement":"stat.craftItem.315"},{"achievement":"stat.craftItem.296"},{"achievement":"stat.craftItem.336"},{"achievement":"stat.craftItem.155"},{"achievement":"stat.craftItem.371"},{"achievement":"stat.craftItem.101"},{"achievement":"stat.craftItem.67"},{"achievement":"stat.craftItem.148"},{"achievement":"stat.craftItem.406"},{"achievement":"stat.craftItem.28"},{"achievement":"stat.craftItem.33"},{"achievement":"stat.craftItem.58"},{"achievement":"stat.craftItem.160"},{"achievement":"stat.craftItem.57"},{"achievement":"stat.craftItem.103"},{"achievement":"stat.craftItem.359"},{"achievement":"stat.craftItem.45"},{"achievement":"stat.craftItem.42"},{"achievement":"stat.craftItem.163"},{"achievement":"stat.craftItem.112"},{"achievement":"stat.craftItem.355"},{"achievement":"stat.craftItem.35"},{"achievement":"stat.craftItem.126"},{"achievement":"stat.craftItem.393"},{"achievement":"stat.craftItem.85"},{"achievement":"stat.craftItem.303"},{"achievement":"stat.craftItem.89"},{"achievement":"stat.craftItem.350"},{"achievement":"stat.craftItem.388"},{"achievement":"stat.craftItem.343"},{"achievement":"achievement.openInventory"},{"achievement":"achievement.mineWood"},{"achievement":"achievement.buildWorkBench"},{"achievement":"achievement.buildPickaxe"},{"achievement":"achievement.buildFurnace"},{"achievement":"achievement.acquireIron"},{"achievement":"achievement.buildHoe"},{"achievement":"achievement.makeBread"},{"achievement":"achievement.bakeCake"},{"achievement":"achievement.buildBetterPickaxe"},{"achievement":"achievement.cookFish"},{"achievement":"achievement.onARail"},{"achievement":"achievement.buildSword"},{"achievement":"achievement.killEnemy"},{"achievement":"achievement.killCow"},{"achievement":"achievement.flyPig"},{"achievement":"achievement.snipeSkeleton"},{"achievement":"achievement.diamonds"},{"achievement":"achievement.diamondsToYou"},{"achievement":"achievement.portal"},{"achievement":"achievement.ghast"},{"achievement":"achievement.blazeRod"},{"achievement":"achievement.potion"},{"achievement":"achievement.theEnd"},{"achievement":"achievement.theEnd2"},{"achievement":"achievement.enchantments"},{"achievement":"achievement.overkill"},{"achievement":"achievement.bookcase"},{"achievement":"achievement.breedCow"},{"achievement":"achievement.spawnWither"},{"achievement":"achievement.killWither"},{"achievement":"achievement.fullBeacon"},{"achievement":"achievement.exploreAllBiomes"}];
var commands=[{"command":"/achievement give &lt;stat_name&gt; [player]"},{"command":"/blockdata &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;dataTag&gt;"},{"command":"/clear &lt;player&gt; [item] [data] [maxCount] [dataTag]"},{"command":"/clone &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt; [mode]"},{"command":"/debug &lt;start|stop&gt;"},{"command":"/defaultgamemode &lt;mode&gt;"},{"command":"/difficulty &lt;new difficulty&gt;"},{"command":"/effect &lt;player&gt; &lt;effect&gt; [seconds] [amplifier] [hideParticles]"},{"command":"/enchant &lt;player&gt; &lt;enchantment ID&gt; [level]"},{"command":"/execute &lt;entity&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;command&gt;"},{"command":"/fill &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;TileName&gt; [dataValue] [oldBlockHandling] [dataTag]"},{"command":"/gamemode &lt;mode&gt; [player]"},{"command":"/gamerule &lt;rule name&gt; &lt;value&gt;"},{"command":"/gamerule &lt;rule name&gt;"},{"command":"/give &lt;player&gt; &lt;item&gt; [amount] [data] [dataTag]"},{"command":"/help [page|command name]"},{"command":"/kill [player|entity]"},{"command":"/me &lt;action ...&gt;"},{"command":"/particle &lt;name&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;xd&gt; &lt;yd&gt; &lt;zd&gt; &lt;speed&gt; [count] [player|entity]"},{"command":"/playsound &lt;sound&gt; &lt;player&gt; [x] [y] [z] [volume] [pitch] [minimumVolume]"},{"command":"/publish"},{"command":"/say &lt;message ...&gt;"},{"command":"/scoreboard &lt;objectives|players|teams&gt;"},{"command":"/seed"},{"command":"/setblock &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;TileName&gt; [dataValue] [oldBlockHandling] [dataTag]"},{"command":"/setworldspawn"},{"command":"/setworldspawn &lt;x&gt; &lt;y&gt; &lt;z&gt;"},{"command":"/spawnpoint"},{"command":"/spawnpoint &lt;player&gt;"},{"command":"/spawnpoint &lt;player&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;"},{"command":"/spreadplayers &lt;x&gt; &lt;z&gt; &lt;spreadDistance&gt; &lt;maxRange&gt; &lt;respectTeams true|false&gt; &lt;player ...&gt;"},{"command":"/summon &lt;EntityName&gt; [x] [y] [z] [dataTag]"},{"command":"/tell &lt;player&gt; &lt;private message ...&gt;"},{"command":"/tellraw &lt;player&gt; &lt;raw json message&gt;"},{"command":"/testfor &lt;player&gt; [dataTag]"},{"command":"/testforblock &lt;x&gt; &lt;y&gt; &lt;z&gt; &lt;TileName&gt; [dataValue] [dataTag]"},{"command":"/testforblocks &lt;x1&gt; &lt;y1&gt; &lt;z1&gt; &lt;x2&gt; &lt;y2&gt; &lt;z2&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt; [mode]"},{"command":"/time &lt;set|add&gt; &lt;value&gt;"},{"command":"/toggledownfall"},{"command":"/tp [target player] &lt;destination player&gt;"},{"command":"/tp [target player] &lt;x&gt; &lt;y&gt; &lt;z&gt; [&lt;y-rot&gt; &lt;x-rot&gt;]"},{"command":"/trigger &lt;objective&gt; &lt;add|set&gt; &lt;value&gt;"},{"command":"/weather &lt;clear|rain|thunder&gt; [duration in seconds]"},{"command":"/xp &lt;amount&gt; [player]"},{"command":"/xp &lt;amount&gt;L [player]"}];
var chars = new Array(1,2,3,4,5,6,7,8,9,0,'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z');
var matchLength = 0;
/*
TRANSLATORS: PLEASE USE THE ENGLISH LANGUAGE FILE HERE: https://gist.github.com/ezfe/7693072, AND REFER TO THE REVISIONS SECTION FOR RECENT CHANGES. I RECOMMEND YOU MAINTAIN A SINGLE GIST OF YOUR LANGUAGES TRANSLATION AND EDIT THAT BASED ON THE REVISIONS TO THE EN_US FILE. PLEASE DO NOT COPY YOUR LANGUAGE FROM THIS PAGE.
*/
var jobject = [];
var selectedHover;
var selectedClick;
var selectedHover_edit;
var selectedClick_edit;
var downButton;
var upButton;
var extraTextFormat = 'raw';
var colorExtraPreviewBox = '#617A80';
var textExtraStorageVar; /*DO NOT USE*/
var lang = {"status":"init"};
var translationStrings;
var currentEdit;
var hasRequestedTranslation = false;

/*
(c) 2012 Steven Levithan <http://slevithan.com/>
MIT license
*/
if (!String.prototype.codePointAt) {
	String.prototype.codePointAt = function (pos) {
		pos = isNaN(pos) ? 0 : pos;
		var str = String(this),
		code = str.charCodeAt(pos),
		next = str.charCodeAt(pos + 1);
        /* If a surrogate pair */
        if (0xD800 <= code && code <= 0xDBFF && 0xDC00 <= next && next <= 0xDFFF) {
        	return ((code - 0xD800) * 0x400) + (next - 0xDC00) + 0x10000;
        }
        return code;
    };
}

/*
Encodes special html characters
@param string
@return {*}
*/
function html_encode(string,do_encode) {
	if (!do_encode) {
		return string;
	}
	var ret_val = '';
	for (var i = 0; i < string.length; i++) { 
		if (string.codePointAt(i) > 127) {
			ret_val += '&#' + string.codePointAt(i) + ';';
		} else {
			ret_val += string.charAt(i);
		}
	}
	return ret_val;
}

function getLanguageString(string,enTest,do_encode) {
	if (enTest && !hasRequestedTranslation && localStorage['languageRequestDone'] != "true") {
		hasRequestedTranslation = true;
		translateStringRequestInitiate(string);
	}
	if (do_encode !== false) {
		if (do_encode === undefined) {
			var do_encode = true;
		} else {
			do_encode = true;
		}
	}
	var lC = langCode;
	if (enTest == undefined) {
		var enTest = false;
	}
	if (enTest) {
		lC = 'en_us';
	}
	var strArray = string.split(".");
	switch(strArray.length)
	{
		case 1:
		if (lang[lC][strArray[0]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else {
			return html_encode(lang[lC][strArray[0]],false,do_encode);
		}
		break;
		case 2:
		if (lang[lC][strArray[0]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else {
			return html_encode(lang[lC][strArray[0]][strArray[1]],false,do_encode);
		}
		break;
		case 3:
		if (lang[lC][strArray[0]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]][strArray[2]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else {
			return html_encode(lang[lC][strArray[0]][strArray[1]][strArray[2]],false,do_encode);
		}
		break;
		case 4:
		if (lang[lC][strArray[0]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]][strArray[2]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else if (lang[lC][strArray[0]][strArray[1]][strArray[2]][strArray[3]] == undefined) {
			if (lC != 'en_us') {
				if (getLanguageString(string,true) == string) {
					return string;
				} else {
					return getLanguageString(string,true);
				}
			} else {
				return string;
			}
		} else {
			return html_encode(lang[lC][strArray[0]][strArray[1]][strArray[2]][strArray[3]],false,do_encode);
		}
		break;
		default:
		return false;
	}
}
function setObfuscatedString(string) {
	var output = "";
	for (var i = string.length - 1; i >= 0; i--) {
		string[i]
		output = output + chars[Math.floor(Math.random() * chars.length)];
	};
	return output;
}
function deleteAll() {
	$('#deleteConfirm').remove();
	$('.alerts').append('<div id="deleteConfirm" class="alert alert-danger"><h4>'+getLanguageString('settings.deleteall.heading')+'</h4><p>'+getLanguageString('settings.deleteall.body')+'</p><p><button type="button" onclick="deleteAllNoConfirm()" class="btn btn-danger">'+getLanguageString('settings.deleteall.yes')+'</button> <button type="button" onclick="deleteAllCancel()" class="btn btn-default">'+getLanguageString('settings.deleteall.no')+'</button></p></div>');
}
function deleteAllNoConfirm() {
	$('#deleteConfirm').slideUp();
	$('#deleteConfirm');
	jobject = [];
	$('#command').val('/tellraw');
	$('#player').val('@a');
	refreshOutput();
}
function deleteAllCancel() {
	$('#deleteConfirm').slideUp();
}
function translateStringRequestInitiate(str) {
	$('#translateStringRequest').remove();
	$('.alerts').append('<div id="translateStringRequest" class="alert alert-danger"><h4 lang="translate.header"></h4><p lang="translate.body"></p><p><button type="button" onclick="translateStringRequestAccept(\''+str+'\')" class="btn btn-danger" lang="translate.yes"></button> <button type="button" onclick="translateStringRequestDeny()" class="btn btn-default"lang="translate.no"></button></p></div>');
	refreshLanguage();
}
function translateStringRequestDeny() {
	$('#translateStringRequest').slideUp();
	localStorage['languageRequestDone'] = true;
}
function translateStringRequestAccept(str) {
	$('#translateStringRequest').slideUp();
	localStorage['languageRequestDone'] = true;
	window.location = '/minecraft/tellraw/translate?lang='+langCode+'&string='+str;
}
function warnFutureVersion(ver,feature,c) {
	$('.modal_banners').append('<div class="alert alert-warning futureWarning '+c+'"><strong>'+getLanguageString('textsnippets.warning.title')+'</strong> '+getLanguageString('textsnippets.warning.text').replace('%v',ver).replace('%f',feature)+'</div>');
}
function obfuscationPreviewHandler() {
	$('.jsonPreviewObfuscated').html(setObfuscatedString($('.jsonPreviewObfuscated').html()));
	if ($('.jsonPreviewObfuscated').length > 0) {
		setTimeout(obfuscationPreviewHandler, 20);
	}
}
function getCSSHEXFromWord(w) {
	if (w == "black") return("#000000");
	if (w == "dark_blue") return("#0000B2");
	if (w == "dark_green") return("#14AB00");
	if (w == "dark_aqua") return("#13AAAB");
	if (w == "dark_red") return("#A90400");
	if (w == "dark_purple") return("#A900B2");
	if (w == "gold") return("#FEAC00");
	if (w == "gray") return("#AAAAAA");
	if (w == "dark_gray") return("#555555");
	if (w == "blue") return("#544CFF");
	if (w == "green") return("#5CFF00");
	if (w == "aqua") return("#5BFFFF");
	if (w == "red") return("#FD5650");
	if (w == "light_purple") return("#FD4DFF");
	if (w == "yellow") return("#FFFF00");
	if (w == "white") return("#FFFFFF");
	return("#FFFFFF");
}
function removeWhiteSpace(s) {
	return s;
	/*BROKEN return s.replace(/ /g, '');*/
}
function deleteIndex(index) {
	jobject.splice(index, 1);
	refreshOutput();
}
function moveUp(index) {
	jobject.splice(index+1, 0, jobject.splice(index, 1)[0]);
	refreshOutput();
}
function getSelected (object) {
	if ($('#'+object).length != 0) {
		var e = document.getElementById(object);
		return e.options[e.selectedIndex].value;
	} else {
		return false;
	}
}
function getSelectedIndex(object) {
	var e = document.getElementById(object);
	return e.selectedIndex;
}
function getChecked(id) {
	return document.getElementById(id).checked;
}
function clearExtra() {
	$("#clickEventText").val("");
	$("#hoverEventText").val("");
	$("#text_extra").val("");
	$("#color_extra").val("none");
	$("#clickEvent").val('none');
	$("#hoverEvent").val('none');
	$("#insertion_text").val('');
	$("#bold_text_extra").prop("checked",false);
	$("#italic_text_extra").prop("checked",false);
	$("#underlined_text_extra").prop("checked",false);
	$("#strikethrough_text_extra").prop("checked",false);
	$("#obfuscated_text_extra").prop("checked",false);
	$('#hoverEventEntityName').val('');
	$('#hoverEventEntityID').val('');
	$('#hoverEventEntityType').val('');
	$('#textsnippets_add').html(getLanguageString('textsnippets.addsnippet'));
	$('#textsnippets-add-button').addClass('btn-default');
	$('#textsnippets-add-button').removeClass('btn-danger');
	$('#obj_player').val('');
	$('#obj_score').val('');
	refreshOutput();
}
function editExtra(index) {
	$('#snippetsWell').hide();
	$('#editModalData').show();

	currentEdit = index;

	if (jobject[index].text != undefined) {
		$('#obj_extra_container_edit').hide();
		$('#text_extra_container_edit').show();
		$('#translate_selector_container_edit').hide();
		$('#selector_extra_container_edit').hide();
		$('#text_extra_edit').val(jobject[index].text);
	} else if (jobject[index].selector != undefined) {
		$('#obj_extra_container_edit').hide();
		$('#selector_extra_container_edit').show();
		$('#text_extra_container_edit').hide();
		$('#translate_selector_container_edit').hide();
		$('#selector_edit').val(jobject[index].selector);
	} else if (jobject[index].translate != undefined) {
		$('#obj_extra_container_edit').hide();
		$('#text_extra_container_edit').hide();
		$('#selector_extra_container_edit').hide();
		$('#translate_selector_container_edit').show();
	} else if (jobject[index].score != undefined) {
		$('#obj_extra_container_edit').show();
		$('#text_extra_container_edit').hide();
		$('#translate_selector_container_edit').hide();
		$('#selector_extra_container_edit').hide();
		$('#obj_player_edit').val(jobject[index].score.name);
		$('#obj_score_edit').val(jobject[index].score.objective);
	}

	refreshLanguage();

	$('#colorPreviewColor_edit').css('background-color',getCSSHEXFromWord(jobject[index].color));
	
	if (jobject[index].color == undefined) {
		$("#color_extra_edit").val(none);
	} else {
		$("#color_extra_edit").val(jobject[index].color);
	}
	

	if (jobject[index].bold != undefined) {
		$('#bold_text_extra_edit').prop('checked',true);
	}
	if (jobject[index].italic != undefined) {
		$('#italic_text_extra_edit').prop('checked',true);
	}
	if (jobject[index].underlined != undefined) {
		$('#underlined_text_extra_edit').prop('checked',true);
	}
	if (jobject[index].strikethrough != undefined) {
		$('#strikethrough_text_extra_edit').prop('checked',true);
	}
	if (jobject[index].obfuscated != undefined) {
		$('#obfuscated_text_extra_edit').prop('checked',true);
	}

	if (jobject[index].clickEvent != undefined) {
		$('#clickEvent_edit').val(jobject[index].clickEvent.action);
		$('#clickEventText_edit').val(jobject[index].clickEvent.value);
	}

	if (jobject[index].hoverEvent != undefined) {
		$('#hoverEvent_edit').val(jobject[index].hoverEvent.action);
		if ($('#hoverEvent_edit').val() != 'show_entity') {
			$('#hoverEventText_edit').val(jobject[index].hoverEvent.value);
		} else {
			$('#hoverEventEntityID_edit').val(jobject[index].hoverEvent.value.match(/id:([a-zA-Z0-9]+)/g )[0].replace('id:',''));
			$('#hoverEventEntityName_edit').val(jobject[index].hoverEvent.value.match(/name:([a-zA-Z0-9]+)/g )[0].replace('name:',''));
			$('#hoverEventEntityType_edit').val(jobject[index].hoverEvent.value.match(/type:([a-zA-Z0-9]+)/g )[0].replace('type:',''));
		}
	}

	if (jobject[index].insertion != undefined) {
		$('#insertion_text_edit').val(jobject[index].insertion);
	}

	refreshOutput();
}
function cancelExtraEdit() {
	$('#editModalData').hide();
	$('#snippetsWell').show();
}
function saveExtraEdit() {	
	extraIndex = currentEdit;
	
	if (getSelected("color_extra_edit") !== "none") {
		jobject[extraIndex].color = getSelected("color_extra_edit");
	} else if (jobject[extraIndex].color !== undefined) {
		delete jobject[extraIndex].color;
	}

	if ($('#obj_extra_container_edit').is(":visible")) {
		jobject[extraIndex].score = new Object;
		jobject[extraIndex].score.name = escapeQuotes($('#obj_player_edit').val());
		jobject[extraIndex].score.objective = escapeQuotes($('#obj_score_edit').val());
	} else if ($('#text_extra_container_edit').is(":visible")) {
		jobject[extraIndex].text = $('#text_extra_edit').val();
	} else if ($('#selector_extra_container_edit').is(":visible")) {
		jobject[extraIndex].selector = $('#selector_edit').val();
	} else if ($('#translate_selector_container_edit').is(":visible")) {
		jobject[extraIndex].translate = $('#translate_input_edit').val();
		if (matchLength != 0) {
			if (get_type(jobject.with) != "[object Array]") {
				jobject[extraIndex].with = new Array();
			}
			for (var i = 0; i < matchLength; i++) {
				jobject[extraIndex].with[i] = $('#extraTranslationParameter'+i+'_edit').val();
			};
		}
	} else {
		alert('An unexpected error occured.');
	}

	delete jobject[extraIndex].bold;
	delete jobject[extraIndex].italic;
	delete jobject[extraIndex].underlined;
	delete jobject[extraIndex].strikethrough;
	delete jobject[extraIndex].obfuscated;

	if (getChecked("bold_text_extra_edit")) {
		jobject[extraIndex].bold = "true";
	}
	if (getChecked("italic_text_extra_edit")) {
		jobject[extraIndex].italic = "true";
	}
	if (getChecked("underlined_text_extra_edit")) {
		jobject[extraIndex].underlined = "true";
	}
	if (getChecked("strikethrough_text_extra_edit")) {
		jobject[extraIndex].strikethrough = "true";
	}
	if (getChecked("obfuscated_text_extra_edit")) {
		jobject[extraIndex].obfuscated = "true";
	}

	delete jobject[extraIndex].clickEvent;
	delete jobject[extraIndex].hoverEvent;

	var clickEventType_edit = $("#clickEvent_edit").val();
	var hoverEventType_edit = $("#hoverEvent_edit").val();

	if (clickEventType_edit != "none") {
		jobject[extraIndex].clickEvent = new Object();
		jobject[extraIndex].clickEvent.action = clickEventType_edit;
		jobject[extraIndex].clickEvent.value = escapeQuotes($('#clickEventText_edit').val());
	}
	if (hoverEventType_edit != "none") {
		jobject[extraIndex].hoverEvent = new Object();
		jobject[extraIndex].hoverEvent.action = hoverEventType_edit;
		jobject[extraIndex].hoverEvent.value = escapeQuotes($('#hoverEventText_edit').val());
	}
	if (hoverEventType_edit == "show_entity") {
		if ($('#hoverEventEntityID_edit').val() == '') {
			$('#hoverEventEntityID_edit').val('(ID)')
		}
		if ($('#hoverEventEntityName_edit').val() == '') {
			$('#hoverEventEntityName_edit').val('(Name)')
		}
		if ($('#hoverEventEntityType_edit').val() == '') {
			$('#hoverEventEntityType_edit').val('(Type)')
		}
		jobject[extraIndex].hoverEvent.value = '{id:'+removeWhiteSpace($('#hoverEventEntityID_edit').val())+',name:'+removeWhiteSpace($('#hoverEventEntityName_edit').val())+',type:'+removeWhiteSpace($('#hoverEventEntityType_edit').val())+'}';
	}
	if ($('#insertion_text_edit').val() != '') {
		jobject[extraIndex].insertion = $('#insertion_text_edit').val();
	} else {
		delete jobject[extraIndex].insertion;
	}

	$('#editModalData').hide();
	$('#snippetsWell').show();

	refreshOutput();
}
function clearExtraText() {
	delete jobject;
	refreshOutput();
}
function get_type(thing){
	if (thing===null) {
		return "[object Null]";
	}
	return Object.prototype.toString.call(thing);
}
function escapeQuotes(string) {
	/*DEPRECIATED*/
	return string;
	/*return string.replace(/"/g, '\\"');*/
}
function modifyExtraText(index,text) {
	if (text != "" && text != null) {
		jobject[index].text = text;
	}
	refreshOutput();
}
function cancelAddExtra() {
	$('#snippetsWell').show();
	$('#addExtraModalData').hide();
	clearExtra();
}
function addExtra() {
	if (extraTextFormat == 'raw' && $('#text_extra').val() == '') {
		$('#text_extra_container').addClass('has-error');
		$('#text_extra').focus();
		$('#textsnippets_add').html(getLanguageString('textsnippets.notext'));
		$('#textsnippets-add-button').removeClass('btn-default');
		$('#textsnippets-add-button').addClass('btn-danger');
		return false;
	} else {
		$('#snippetsWell').show();
		$('#addExtraModalData').hide();
	}

	if (get_type(jobject) != "[object Array]") {
		jobject = new Array();
	}
	var clickEventType = $("#clickEvent").val();
	var hoverEventType = $("#hoverEvent").val();

	jobject.push(new Object());
	var extraIndex = jobject.length - 1;
	if (extraTextFormat == 'trn') {
		jobject[extraIndex].translate = $('#translate_input').val();
		if (matchLength != 0) {
			if (get_type(jobject.with) != "[object Array]") {
				jobject[extraIndex].with = new Array();
			}
			for (var i = 0; i < matchLength; i++) {
				jobject[extraIndex].with[i] = $('#extraTranslationParameter'+i).val();
			};
		}
	} else if (extraTextFormat == 'raw') {
		jobject[extraIndex].text = escapeQuotes($('#text_extra').val());
	} else if (extraTextFormat == 'obj') {
		jobject[extraIndex].score = new Object;
		jobject[extraIndex].score.name = escapeQuotes($('#obj_player').val());
		jobject[extraIndex].score.objective = escapeQuotes($('#obj_score').val());
	} else if (extraTextFormat == 'sel') {
		jobject[extraIndex].selector = escapeQuotes($('#selector').val());
	}

	if (getSelected("color_extra") !== "none") {
		jobject[extraIndex].color = getSelected("color_extra");
	}
	if (getChecked("bold_text_extra")) {
		jobject[extraIndex].bold = "true";
	}
	if (getChecked("italic_text_extra")) {
		jobject[extraIndex].italic = "true";
	}
	if (getChecked("underlined_text_extra")) {
		jobject[extraIndex].underlined = "true";
	}
	if (getChecked("strikethrough_text_extra")) {
		jobject[extraIndex].strikethrough = "true";
	}
	if (getChecked("obfuscated_text_extra")) {
		jobject[extraIndex].obfuscated = "true";
	}

	if (clickEventType != "none") {
		jobject[extraIndex].clickEvent = new Object();
		jobject[extraIndex].clickEvent.action = clickEventType;
		jobject[extraIndex].clickEvent.value = escapeQuotes($('#clickEventText').val());
	}
	if (hoverEventType != "none") {
		jobject[extraIndex].hoverEvent = new Object();
		jobject[extraIndex].hoverEvent.action = hoverEventType;
		jobject[extraIndex].hoverEvent.value = escapeQuotes($('#hoverEventText').val());
	}
	if (hoverEventType == "show_entity") {
		if ($('#hoverEventEntityID').val() == '') {
			$('#hoverEventEntityID').val('(ID)')
		}
		if ($('#hoverEventEntityName').val() == '') {
			$('#hoverEventEntityName').val('(Name)')
		}
		if ($('#hoverEventEntityType').val() == '') {
			$('#hoverEventEntityType').val('(Type)')
		}
		jobject[extraIndex].hoverEvent.value = '{id:'+removeWhiteSpace($('#hoverEventEntityID').val())+',name:'+removeWhiteSpace($('#hoverEventEntityName').val())+',type:'+removeWhiteSpace($('#hoverEventEntityType').val())+'}';
	}
	if ($('#insertion_text').val() != '') jobject[extraIndex].insertion = $('#insertion_text').val();

	clearExtra();
	refreshOutput();

}
function refreshOutput(input) {
	if (Object.prototype.toString.call( jobject ) === '[object Object]') {
		if (Object.prototype.toString.call( jobject.extra ) === '[object Array]') {
			var jobjectNew = [];
			for (var i = jobject.extra.length - 1; i >= 0; i--) {
				jobjectNew.push(jobject.extra[i]);
			}
			jobject = jobjectNew;
		} else {
			jobject = [];
		}
	}

	/*LANGUAGE SELECTIONS*/
	$('.langSelect').removeClass('label label-success');
	$('.'+langCode).addClass('label label-success');

	/*EXTRA MODAL COLOR PREVIEW MANAGER*/
	$('#colorPreviewColor').css({ 'background-color': getCSSHEXFromWord(getSelected('color_extra')) });

	/*EXTRA VIEWER MANAGER*/
	$('#textsnippets_header').html(getLanguageString('textsnippets.header'));
	if (input != 'previewLineChange') {
		if (get_type(jobject) == "[object Array]") {
			var extraOutputPreview = "";
			$('.extraContainer div.extraRow').remove();
			$('.extraContainer').html('');
			for (var i = 0; i <= jobject.length - 1; i++) {
				if (jobject.length-1 > i) {
					downButton = "<span onclick=\"moveUp(" + i + ")\" class=\"glyphicon glyphicon-arrow-down\"></span>";
				} else {
					downButton = "";
				}
				if (i > 0) {
					upButton = "<span onclick=\"moveUp(" + (i-1) + ")\" class=\"glyphicon glyphicon-arrow-up\"></span>";
				} else {
					upButton = "";
				}
				if (get_type(jobject[i].text) != "[object Undefined]") {
					var tempJSON = '<input id="previewLine'+i+'" onkeyup="jobject['+i+'].text = $(\'#previewLine'+i+'\').val(); refreshOutput(\'previewLineChange\')" type="text" class="form-control previewLine" value="'+jobject[i].text+'">';
					var saveButton = '';
				} else if (get_type(jobject[i].translate) != "[object Undefined]") {
					var tempJSON = '<input type="text" class="form-control previewLine" disabled value="'+jobject[i].translate+'">';
					var saveButton = '';
				} else if (get_type(jobject[i].score) != "[object Undefined]") {
					var tempJSON = '<input type="text" class="form-control previewLine" disabled value="'+jobject[i].score.name+'\'s '+jobject[i].score.objective+' score">';
					var saveButton = '';
				} else if (get_type(jobject[i].selector) != "[object Undefined]") {
					var tempJSON = '<input type="text" class="form-control previewLine" disabled value="Selector: '+jobject[i].selector+'">';
					var saveButton = '';
				}
				if (input == 'noEditIfMatches' && jobject[i].text != $('#previewLine'+matchTo).val()) {
					var blah = 'blah';
				} else {
					tempJSON = '<div class="row"><div class="col-md-4">'+tempJSON+'</div><div class="col-md-7"><button class="btn btn-default" onclick="editExtra('+i+')" id="'+i+'RowEditButton">Edit</button></div><div class="col-md-1"><div class="colorPreview"><div class="colorPreviewColor" style="background-color:'+getCSSHEXFromWord(jobject[i].color)+'"></div></div></div></div>';
				}
				var deleteButton = '<span onclick="deleteIndex('+ i +');" class="glyphicon glyphicon-remove-circle"></span>';
				$('.extraContainer').append('<div class="row extraRow row-margin-top row-margin-bottom RowIndex' + i + '"><div class="col-md-1">'+deleteButton+downButton+upButton+'</div><div class="col-md-11">'+tempJSON+'</div></div>');
			}
			if (jobject.length === 0) {
				delete jobject;
				$('.extraContainer').html('<div class="row"><div class="col-md-12"><h4>'+getLanguageString('textsnippets.nosnippets')+'</h4></div></div>');
			}
		} else {
			$('.extraContainer div.extraRow').remove();
			$('.extraContainer').html('<div class="row"><div class="col-md-12"><h4>'+getLanguageString('textsnippets.nosnippets')+'</h4></div></div>');
		}
	}

	/*EXTRA TRANSLATE STRING MANAGER*/

	if (extraTextFormat == "trn") {
		$('#obj_extra_container').hide();
		$('#text_extra_container').hide();
		$('#selector_extra_container').hide();
		$('#translate_selector_container').show();
	} else if (extraTextFormat == "obj") {
		$('#text_extra_container').hide();
		$('#translate_selector_container').hide();
		$('#selector_extra_container').hide();
		$('#obj_extra_container').show();
	} else if (extraTextFormat == "sel") {
		$('#text_extra_container').hide();
		$('#translate_selector_container').hide();
		$('#selector_extra_container').show();
		$('#obj_extra_container').hide();
	} else if (extraTextFormat == "raw") {
		$('#text_extra_container').show();
		$('#obj_extra_container').hide();
		$('#translate_selector_container').hide();
		$('#selector_extra_container').hide();
		$('.extraTranslationParameterRow').hide();
	}

	/*PLAYER MANAGER*/
	$('#player').val(removeWhiteSpace($("#player").val()));
	if ($("#player").val() === "" && input != "input_player") $("#player").val('@a');

	/*COMMAND MANAGER*/
	if ($("#command").val() === "" && input != "input_command") $("#command").val('/tellraw');

	/*HOVEREVENT SUGGESTION MANAGER*/
	if (getSelected("hoverEvent") == "show_achievement") {
		if (selectedHover != "show_achievement") {
			document.getElementById("insertHover").disabled = false;
			document.getElementById("hover_selector").disabled = false;
			$('#hover_selector').html('');
			for (var i = 0; i < achievements.length; i++) {
				$('#hover_selector').append('<option>'+achievements[i].achievement+'</option>');
			};
			selectedHover = "show_achievement";
		}
	} else if (getSelected("hoverEvent") == "show_item") {
		if (selectedHover != "show_item") {
			document.getElementById("insertHover").disabled = false;
			document.getElementById("hover_selector").disabled = false;
			document.getElementById("hover_selector").innerHTML = '<option>{id:322}</option>';
			selectedHover = "show_item";
		}
	} else if (getSelected("hoverEvent") == "show_entity") {
		$('.hovertext_default').hide();
		$('.hovertext_entity').show();
		selectedHover = "show_entity";
	} else {
		selectedHover = "";
		document.getElementById("hover_selector").innerHTML = '';
		document.getElementById("hover_selector").disabled = true;
		document.getElementById("insertHover").disabled = true;
	}

	if (selectedHover != "show_entity") {
		$('.hovertext_default').show();
		$('.hovertext_entity').hide();
	}

	/*HOVEREVENT EDIT SUGGESTION MANAGER*/
	if (getSelected("hoverEvent_edit") == "show_achievement") {
		if (selectedHover_edit != "show_achievement") {
			document.getElementById("insertHover_edit").disabled = false;
			document.getElementById("hover_selector_edit").disabled = false;
			$('#hover_selector_edit').html('');
			for (var i = 0; i < achievements.length; i++) {
				$('#hover_selector_edit').append('<option>'+achievements[i].achievement+'</option>');
			};
			selectedHover_edit = "show_achievement";
		}
	} else if (getSelected("hoverEvent_edit") == "show_item") {
		if (selectedHover_edit != "show_item") {
			document.getElementById("insertHover_edit").disabled = false;
			document.getElementById("hover_selector_edit").disabled = false;
			document.getElementById("hover_selector_edit").innerHTML = '<option>{id:322}</option>';
			selectedHover_edit = "show_item";
		}
	} else if (getSelected("hoverEvent_edit") == "show_entity") {
		$('.hovertext_default_edit').hide();
		$('.hovertext_entity_edit').show();
		selectedHover_edit = "show_entity";
	} else {
		selectedHover_edit = "";
		document.getElementById("hover_selector_edit").innerHTML = '';
		document.getElementById("hover_selector_edit").disabled = true;
		document.getElementById("insertHover_edit").disabled = true;
	}

	if (selectedHover_edit != "show_entity") {
		$('.hovertext_default_edit').show();
		$('.hovertext_entity_edit').hide();
	}

	/*CLICKEVENT SUGGESTION MANAGER*/
	if (getSelected("clickEvent") == "run_command" || getSelected("clickEvent") == "suggest_command") {
		if (selectedClick != "command") {
			document.getElementById("insertClick").disabled = false;
			document.getElementById("click_selector").disabled = false;
			$('#click_selector').html('');
			for (var i = 0; i < commands.length; i++) {
				$('#click_selector').append('<option>'+commands[i].command+'</option>');
			};
			selectedClick = "command";
		}
		if (commands[getSelectedIndex('click_selector')].version == '1.8') {
			$('.cm').remove();
			warnFutureVersion('1.8',getLanguageString(getSelected('click_selector')),'cm');
		} else {
			$('.cm').remove();			
		}
	} else if (getSelected("clickEvent") == "open_url") {
		if (selectedClick != "open_url") {
			document.getElementById("insertClick").disabled = false;
			document.getElementById("click_selector").disabled = false;
			$("#click_selector").html('<option>http://example.com</option>');
			selectedClick = "open_url";
		}
	} else {
		selectedClick = "";
		$("#click_selector").html('');
		document.getElementById("click_selector").disabled = true;
		document.getElementById("insertClick").disabled = true;
	}

	/*CLICKEVENT EDIT SUGGESTION MANAGER*/
	if (getSelected("clickEvent_edit") == "run_command" || getSelected("clickEvent_edit") == "suggest_command") {
		if (selectedClick_edit != "command") {
			document.getElementById("insertClick_edit").disabled = false;
			document.getElementById("click_selector_edit").disabled = false;
			$('#click_selector_edit').html('');
			for (var i = 0; i < commands.length; i++) {
				$('#click_selector_edit').append('<option>'+commands[i].command+'</option>');
			};
			selectedClick_edit = "command";
		}
	} else if (getSelected("clickEvent_edit") == "open_url") {
		if (selectedClick_edit != "open_url") {
			document.getElementById("insertClick_edit").disabled = false;
			document.getElementById("click_selector_edit").disabled = false;
			$("#click_selector_edit").html('<option>http://example.com</option>');
			selectedClick_edit = "open_url";
		}
	} else {
		selectedClick_edit = "";
		$("#click_selector_edit").html('');
		document.getElementById("click_selector_edit").disabled = true;
		document.getElementById("insertClick_edit").disabled = true;
	}
	var commandString = $('#command').val()+' '+$("#player").val();
	$('#outputtextfield').val(commandString+' '+JSON.stringify(jobject));
	$('#nicelookingoutput').html(commandString+'<br>'+JSON.stringify(jobject, null, 4));
	jsonParse();

	if ($('#outputtextfield').val().length > 90) {
		$('#commandblock').show();
	} else {
		$('#commandblock').hide();
	}
	if (Modernizr.localstorage) localStorage['jobject'] = JSON.stringify(jobject);
	if (Modernizr.localstorage) localStorage['jcommand'] = $('#command').val();
	if (Modernizr.localstorage) localStorage['jplayer'] = $('#player').val();

	if (input != 'noLoop' && input != 'previewLineChange') {
		refreshOutput('noLoop');
	}


}
function jsonParse() {
	$('#jsonPreview').css('background-color','#'+$('#previewcolor').val());
	localStorage["color"] = $('#previewcolor').val();
	$('#jsonPreview').html('');
	if (get_type(jobject) == "[object Array]") {
		for (var i = 0; i < jobject.length; i++) {
			var doClickEvent = false;
			var doHoverEvent = false;
			var popoverTitle = "";
			var popoverContentClick = "";
			var popoverContentHover = "";
			var hoverEventType = "";
			var hoverEventValue = "";
			var clickEventType = "";
			var clickEventValue = "";
			$('#jsonPreview').append('<span id="jsonPreviewSpanElement'+ i +'"></span>');
			if (get_type(jobject[i].text) != "[object Undefined]") {
				$('#jsonPreviewSpanElement'+i).html(jobject[i].text);
			} else {
				$('#jsonPreviewSpanElement'+i).html(jobject[i].translate);
			}
			if (jobject[i].bold == "true") {
				$('#jsonPreviewSpanElement'+i).addClass('bold');
			}
			if (jobject[i].italic == "true") {
				$('#jsonPreviewSpanElement'+i).addClass('italic');
			}
			if (jobject[i].underlined == "true") {
				$('#jsonPreviewSpanElement'+i).addClass('underlined');
			}
			if (jobject[i].strikethrough == "true") {
				if ($('#jsonPreviewSpanElement'+i).hasClass('underlined')) {
					$('#jsonPreviewSpanElement'+i).removeClass('underlined');
					$('#jsonPreviewSpanElement'+i).addClass('strikethroughunderlined');
				} else {
					$('#jsonPreviewSpanElement'+i).addClass('strikethrough');
				}
			}
			if (jobject[i].obfuscated == "true") {
				$('#jsonPreviewSpanElement'+i).addClass('jsonPreviewObfuscated');
			}

			/*COLORS*/
			$('#jsonPreviewSpanElement'+i).css('color',getCSSHEXFromWord(jobject[i].color));

			/*CLICK & HOVER EVENTS*/

			if (get_type(jobject[i].clickEvent) != "[object Undefined]" || get_type(jobject[i].hoverEvent) != "[object Undefined]") {
				if (get_type(jobject[i].clickEvent) != "[object Undefined]") doClickEvent = true;
				if (get_type(jobject[i].hoverEvent) != "[object Undefined]") doHoverEvent = true;
				if (doHoverEvent && doClickEvent) {
					popoverTitle = getLanguageString('textsnippets.hoverevent.header') + ' and ' + getLanguageString('textsnippets.clickevent.header');
					hoverEventType = jobject[i].hoverEvent.action;
					hoverEventValue = jobject[i].hoverEvent.value;
					clickEventType = jobject[i].clickEvent.action;
					clickEventValue = jobject[i].clickEvent.value;
				}
				if (doHoverEvent && !doClickEvent) {
					popoverTitle = getLanguageString('textsnippets.hoverevent.header');
					hoverEventType = jobject[i].hoverEvent.action;
					hoverEventValue = jobject[i].hoverEvent.value;
				}
				if (!doHoverEvent && doClickEvent) {
					popoverTitle = getLanguageString('textsnippets.clickevent.header');
					clickEventType = jobject[i].clickEvent.action;
					clickEventValue = jobject[i].clickEvent.value;
				}
				if (doClickEvent) {
					if (clickEventType == "open_url") {
						popoverContentClick = clickEventType+':<a href="'+clickEventValue+'">'+clickEventValue+'</a>';
					} else {
						popoverContentClick = clickEventType+':'+clickEventValue;
					}
				}
				if (doHoverEvent) {
					popoverContentHover = hoverEventType+':'+hoverEventValue;
				}
				if (doHoverEvent && doClickEvent) {
					popoverContentClick = popoverContentClick + '<br>';
				}
				$('#jsonPreviewSpanElement'+i).attr('rel','popover');
				$('#jsonPreviewSpanElement'+i).addClass('label label-default');
			}
			$('#jsonPreviewSpanElement'+ i).popover({ title: popoverTitle, content: popoverContentClick+popoverContentHover, html:true});
		}
	} else {
		$('#jsonPreview').html(getLanguageString('output.nothing'));
	}
	if ($('.jsonPreviewObfuscated').length > 0) {
		setTimeout(obfuscationPreviewHandler, 20);
	}
}
function refreshLanguage(dropdownSelection) {
	if (Modernizr.localstorage) {
		localStorage['langCode'] = langCode;
	}
	$('*').each(function(){
		if ($(this).attr('lang') != undefined) {
			langStr = getLanguageString($(this).attr('lang'));
			if ($(this).prop('tagName') == 'INPUT') {
				$(this).attr('placeholder',langStr);
			} else {
				$(this).html(langStr);
			}
		}

		if ($(this).attr('version') != undefined) {
			var labelLevel = 'success';
			if ($(this).attr('version') == '1.7 & 1.8') {
				labelLevel = 'warning';
			}
			if ($(this).attr('version') == '1.8') {
				labelLevel = 'danger';
			}
			if ($(this).prop('tagName') == 'OPTION') {
				$(this).prepend('('+$(this).attr('version')+') ');
			} else {
				$(this).append(' <span class="label label-'+labelLevel+'">'+$(this).attr('version')+'</span>');
			}
		}
	});
}
function translationChange() {
	var val = translationStrings[$('#translate_input').val()];
	var match = val.match(/%./g);
	matchLength = match.length
	var c = getSelected('translate_selector');
	$('.extraTranslationParameterRow').hide();
	$('.extraTranslationParameterRow').val('');
	if (match != null) {
		for (var i = matchLength - 1; i >= 0; i--) {
			if (matchLength > 5) {
				alert('An unexpected error has occured. REFID:matchLength.GreaterThan.5-990@44aca9656b8bb3368da86f9ed7393e5664b479f1');
			}
			for (var i = matchLength - 1; i >= 0; i--) {
				$('#parameter'+i+'row').show();
			};
		};
	}
}
function initialize() {
	for (var i = 0; i < Object.keys(lang).length; i++) {
		$('#language_keys').append('<li><a onclick="langCode=\''+Object.keys(lang)[i]+'\'; refreshLanguage(true); refreshOutput();"><span class="'+Object.keys(lang)[i]+' langSelect" id="language_select_'+Object.keys(lang)[i]+'">'+lang[Object.keys(lang)[i]].language.name+'</span></a></li>');
	};
	$('#language_keys').append('<li class="divider"></li>');
	$('#language_keys').append('<li><a href="mailto:translate@ezekielelin.com"><span class="language_area" lang="language.translate"></span></a></li>');

	$('.extraTranslationParameterRow').hide();

	if (localStorage['color'] != undefined) {
		$('#previewcolor').val(localStorage["color"]);	
	} else {
		$('#previewcolor').val('617A80');	
	}
	if (localStorage['jobject'] != undefined) {
		jobject = JSON.parse(localStorage["jobject"]);	
	}

	$('#command').val(localStorage['jcommand']);
	$('#player').val(localStorage['jplayer']);

	$('#player').change(function(){refreshOutput()});
	$('#command').change(function(){refreshOutput()});

	$('#import').click(function() {
		var inpt = prompt(getLanguageString('settings.importtext',false));
		
		$('#command').val(inpt.substring(0,inpt.indexOf('tellraw')+7));

		$('#player').val(inpt.substring(inpt.indexOf('tellraw')+8,inpt.indexOf('{')-1));
		jobject = JSON.parse(inpt.substring(inpt.indexOf("{")));
		refreshOutput();
	});
	refreshLanguage();
	refreshOutput();
	$('.fmtExtra').on('click', function(){
		extraTextFormat = $(this).attr('tellrawType');
		$('.fmtExtra').removeClass('active');
		$(this).addClass('active');
		refreshOutput();
	});

	$('#addExtraButton').on('click',function(){
		$('#snippetsWell').hide();
		$('#addExtraModalData').show();
		location.href = '#addExtraModalData';
	});
	$('#tellraw-container').delay( 800 ).fadeIn( 400 );
	$('#loadprog').width('100%').parent().delay( 1000 ).slideUp( 400 );;
	$('#loadprog').html('Finished');
	$( "#translate_input" ).autocomplete({
		source: Object.keys(translationStrings),
		change: translationChange
	});
	$( "#translate_input_edit" ).autocomplete({
		source: Object.keys(translationStrings)
	});
}
$(document).ready(function(){
	$('#loadprog').width('0%');
	$('#loadprog').html('Loading language strings');
	$.get( "lang.json", function( data ) {
		if (typeof data == 'string') {
			lang = JSON.parse(data);
		} else {
			lang = data;
		}
		$('#loadprog').width('25%');
		$('#loadprog').html('Loading minecraft translation data');
		$.get( "en_US.json", function( data ) {
			if (typeof data == 'string') {
				translationStrings = JSON.parse(data);
			} else {
				translationStrings = data;
			}
			$('#loadprog').width('50%');
			$('#loadprog').html('Finishing up');
			initialize();
		});
	});
});

if (localStorage['langCode'] != undefined) {
	langCode = localStorage['langCode'];
} else {
	langCode = 'en_us';
}
if (langCode == undefined) {
	langCode = 'en_us';
	localStorage['langCode'] = langCode;
}